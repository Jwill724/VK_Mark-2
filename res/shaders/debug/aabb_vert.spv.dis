; SPIR-V
; Version: 1.6
; Generator: Khronos Glslang Reference Front End; 11
; Bound: 51
; Schema: 0
               OpCapability Shader
               OpCapability PhysicalStorageBufferAddresses
          %2 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel PhysicalStorageBuffer64 GLSL450
               OpEntryPoint Vertex %main "main" %pc %gl_VertexIndex %_
          %1 = OpString "C:\\Users\\Justi\\source\\repos\\VulkanRenderer\\VulkanRenderer\\res\\shaders\\debug\\aabb_vert.vert"
               OpSource GLSL 450 %1 "#version 450

#extension GL_EXT_buffer_reference : require
#extension GL_EXT_scalar_block_layout : require
#extension GL_ARB_separate_shader_objects : enable

layout(buffer_reference, scalar) readonly buffer VertexBuffer
{
    vec3 vertices[];
};

layout(push_constant) uniform PushConstants
{
    mat4 viewproj;
    VertexBuffer vertexBuffer;
	uint pad0[2];
} pc;

void main()
{
    vec3 pos = pc.vertexBuffer.vertices[gl_VertexIndex];

    gl_Position = pc.viewproj * vec4(pos, 1.f);
}"
               OpSourceExtension "GL_ARB_separate_shader_objects"
               OpSourceExtension "GL_EXT_buffer_reference"
               OpSourceExtension "GL_EXT_scalar_block_layout"
               OpName %main "main"
               OpName %pos "pos"
               OpName %PushConstants "PushConstants"
               OpMemberName %PushConstants 0 "viewproj"
               OpMemberName %PushConstants 1 "vertexBuffer"
               OpMemberName %PushConstants 2 "pad0"
               OpName %VertexBuffer "VertexBuffer"
               OpMemberName %VertexBuffer 0 "vertices"
               OpName %pc "pc"
               OpName %gl_VertexIndex "gl_VertexIndex"
               OpName %gl_PerVertex "gl_PerVertex"
               OpMemberName %gl_PerVertex 0 "gl_Position"
               OpMemberName %gl_PerVertex 1 "gl_PointSize"
               OpMemberName %gl_PerVertex 2 "gl_ClipDistance"
               OpMemberName %gl_PerVertex 3 "gl_CullDistance"
               OpName %_ ""
               OpModuleProcessed "client vulkan100"
               OpModuleProcessed "target-env spirv1.6"
               OpModuleProcessed "target-env vulkan1.4"
               OpModuleProcessed "entry-point main"
               OpDecorate %_arr_uint_uint_2 ArrayStride 4
               OpDecorate %PushConstants Block
               OpMemberDecorate %PushConstants 0 ColMajor
               OpMemberDecorate %PushConstants 0 MatrixStride 16
               OpMemberDecorate %PushConstants 0 Offset 0
               OpMemberDecorate %PushConstants 1 Offset 64
               OpMemberDecorate %PushConstants 2 Offset 72
               OpDecorate %_runtimearr_v3float ArrayStride 12
               OpDecorate %VertexBuffer Block
               OpMemberDecorate %VertexBuffer 0 NonWritable
               OpMemberDecorate %VertexBuffer 0 Offset 0
               OpDecorate %gl_VertexIndex BuiltIn VertexIndex
               OpDecorate %gl_PerVertex Block
               OpMemberDecorate %gl_PerVertex 0 BuiltIn Position
               OpMemberDecorate %gl_PerVertex 1 BuiltIn PointSize
               OpMemberDecorate %gl_PerVertex 2 BuiltIn ClipDistance
               OpMemberDecorate %gl_PerVertex 3 BuiltIn CullDistance
       %void = OpTypeVoid
          %4 = OpTypeFunction %void
      %float = OpTypeFloat 32
    %v3float = OpTypeVector %float 3
%_ptr_Function_v3float = OpTypePointer Function %v3float
    %v4float = OpTypeVector %float 4
%mat4v4float = OpTypeMatrix %v4float 4
               OpTypeForwardPointer %_ptr_PhysicalStorageBuffer_VertexBuffer PhysicalStorageBuffer
       %uint = OpTypeInt 32 0
     %uint_2 = OpConstant %uint 2
%_arr_uint_uint_2 = OpTypeArray %uint %uint_2
%PushConstants = OpTypeStruct %mat4v4float %_ptr_PhysicalStorageBuffer_VertexBuffer %_arr_uint_uint_2
%_runtimearr_v3float = OpTypeRuntimeArray %v3float
%VertexBuffer = OpTypeStruct %_runtimearr_v3float
%_ptr_PhysicalStorageBuffer_VertexBuffer = OpTypePointer PhysicalStorageBuffer %VertexBuffer
%_ptr_PushConstant_PushConstants = OpTypePointer PushConstant %PushConstants
         %pc = OpVariable %_ptr_PushConstant_PushConstants PushConstant
        %int = OpTypeInt 32 1
      %int_1 = OpConstant %int 1
%_ptr_PushConstant__ptr_PhysicalStorageBuffer_VertexBuffer = OpTypePointer PushConstant %_ptr_PhysicalStorageBuffer_VertexBuffer
      %int_0 = OpConstant %int 0
%_ptr_Input_int = OpTypePointer Input %int
%gl_VertexIndex = OpVariable %_ptr_Input_int Input
%_ptr_PhysicalStorageBuffer_v3float = OpTypePointer PhysicalStorageBuffer %v3float
     %uint_1 = OpConstant %uint 1
%_arr_float_uint_1 = OpTypeArray %float %uint_1
%gl_PerVertex = OpTypeStruct %v4float %float %_arr_float_uint_1 %_arr_float_uint_1
%_ptr_Output_gl_PerVertex = OpTypePointer Output %gl_PerVertex
          %_ = OpVariable %_ptr_Output_gl_PerVertex Output
%_ptr_PushConstant_mat4v4float = OpTypePointer PushConstant %mat4v4float
    %float_1 = OpConstant %float 1
%_ptr_Output_v4float = OpTypePointer Output %v4float
               OpLine %1 19 11
       %main = OpFunction %void None %4
          %6 = OpLabel
        %pos = OpVariable %_ptr_Function_v3float Function
               OpLine %1 21 0
         %25 = OpAccessChain %_ptr_PushConstant__ptr_PhysicalStorageBuffer_VertexBuffer %pc %int_1
         %26 = OpLoad %_ptr_PhysicalStorageBuffer_VertexBuffer %25
         %30 = OpLoad %int %gl_VertexIndex
         %32 = OpAccessChain %_ptr_PhysicalStorageBuffer_v3float %26 %int_0 %30
         %33 = OpLoad %v3float %32 Aligned 4
               OpStore %pos %33
               OpLine %1 23 0
         %40 = OpAccessChain %_ptr_PushConstant_mat4v4float %pc %int_0
         %41 = OpLoad %mat4v4float %40
         %42 = OpLoad %v3float %pos
         %44 = OpCompositeExtract %float %42 0
         %45 = OpCompositeExtract %float %42 1
         %46 = OpCompositeExtract %float %42 2
         %47 = OpCompositeConstruct %v4float %44 %45 %46 %float_1
         %48 = OpMatrixTimesVector %v4float %41 %47
         %50 = OpAccessChain %_ptr_Output_v4float %_ %int_0
               OpStore %50 %48
               OpLine %1 24 0
               OpReturn
               OpFunctionEnd
